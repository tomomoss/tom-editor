var e={191:(e,t,r)=>{r.d(t,{Z:()=>o});var i=r(645),a=r.n(i)()((function(e){return e[1]}));a.push([e.id,'@keyframes tom-editor-caret-blinking{0%{border-left-color:#333}50%{border-left-color:transparent}}.tom-editor__caret{background:transparent;border:none;border-left:solid .15rem;display:none;height:1.25rem;outline:none;overflow:hidden;padding:0;pointer-events:none;position:absolute;resize:none;width:0}.tom-editor__caret--animation{animation:tom-editor-caret-blinking 1.25s steps(1) infinite both}.tom-editor__caret--focus{display:inline-block}.tom-editor__decoration-underline{border-bottom:.1rem solid #eee;height:1.25rem;pointer-events:none;position:absolute;display:none}.tom-editor__decoration-underline--active{display:block}.tom-editor__editor{background:#fff;bottom:0;display:flex;font:normal 1rem/1.25rem Consolas,"Courier New",monospace;justify-content:space-between;left:0;overflow:hidden;position:absolute;right:0;top:0;white-space:pre;width:100%}.tom-editor__editor-wrapper{height:100%;position:relative;width:100%}.tom-editor__horizontal-scrollbar-area{bottom:0;display:none;height:1rem;position:absolute}.tom-editor__horizontal-scrollbar-area--active{display:block}.tom-editor__horizontal-scrollbar-area__horizontal-scrollbar{background:#eee;height:100%;position:absolute}.tom-editor__horizontal-scrollbar-area__horizontal-scrollbar:hover{background:#ddd}.tom-editor__horizontal-scrollbar-area__horizontal-scrollbar:active{background:#ccc}.tom-editor__line-number-area{background:#fff;cursor:default;flex:0 0 calc(5ch + 2rem);overflow:hidden;text-align:right;z-index:1}.tom-editor__line-number-area__line-number{color:#ccc;padding:0 2rem 0 0}.tom-editor__line-number-area__line-number::selection{background:transparent}.tom-editor__line-number-area__line-number:not(.tom-editor__line-number-area__line-number--focus,.tom-editor__line-number-area__line-number--read-only):hover{color:#999}.tom-editor__line-number-area__line-number:last-of-type{height:100%}.tom-editor__line-number-area__line-number--focus{color:#666}.tom-editor__text-area{background:#fff;cursor:text;flex:1 1 auto;overflow:hidden}.tom-editor__text-area__character{display:inline-block}.tom-editor__text-area__character::selection{background:transparent}.tom-editor__text-area__character--eol{margin:0 3rem 0 0}.tom-editor__text-area__character--select{background:#def}.tom-editor__text-area__text-line:last-of-type{height:100%}.tom-editor__text-area__text-lines-wrapper{display:inline-block;height:100%;min-width:100%}.tom-editor__vertical-scrollbar-area{background:#fff;border-left:.1rem solid #eee;flex:0 0 1rem;position:relative;width:1rem;z-index:1}.tom-editor__vertical-scrollbar-area__vertical-scrollbar{background:#eee;display:none;position:absolute;width:100%}.tom-editor__vertical-scrollbar-area__vertical-scrollbar:hover{background:#ddd}.tom-editor__vertical-scrollbar-area__vertical-scrollbar:active{background:#ccc}.tom-editor__vertical-scrollbar-area__vertical-scrollbar--valid{display:block}',""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,i){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(i)for(var o=0;o<this.length;o++){var n=this[o][0];null!=n&&(a[n]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);i&&a[s[0]]||(r&&(s[2]?s[2]="".concat(r," and ").concat(s[2]):s[2]=r),t.push(s))}},t}},674:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var i=r(379),a=r.n(i),o=r(795),n=r.n(o),l=r(569),s=r.n(l),d=r(565),c=r.n(d),h=r(216),m=r.n(h),u=r(589),_=r.n(u),p=r(191),b={};b.styleTagTransform=_(),b.setAttributes=c(),b.insert=s().bind(null,"head"),b.domAPI=n(),b.insertStyleElement=m(),a()(p.Z,b);const f=p.Z&&p.Z.locals?p.Z.locals:void 0},379:e=>{var t=[];function r(e){for(var r=-1,i=0;i<t.length;i++)if(t[i].identifier===e){r=i;break}return r}function i(e,i){for(var o={},n=[],l=0;l<e.length;l++){var s=e[l],d=i.base?s[0]+i.base:s[0],c=o[d]||0,h="".concat(d," ").concat(c);o[d]=c+1;var m=r(h),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==m?(t[m].references++,t[m].updater(u)):t.push({identifier:h,updater:a(u,i),references:1}),n.push(h)}return n}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var o=i(e=e||[],a=a||{});return function(e){e=e||[];for(var n=0;n<o.length;n++){var l=r(o[n]);t[l].references--}for(var s=i(e,a),d=0;d<o.length;d++){var c=r(o[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}o=s}}},569:e=>{var t={};e.exports=function(e,r){var i=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var i=r.css,a=r.media,o=r.sourceMap;a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(i,e)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},881:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Caret=void 0,t.Caret=class{constructor(e,t){this.createCaret=()=>{const e=document.createElement("textarea");return e.classList.add(this.styleClass.caret.element),e},this.defineEventListeners=()=>{this.root.addEventListener("Main-initialize",(e=>{if(void 0===e.detail)throw new Error("LineNumberArea.prototype.defineEventListeners: Main-initializeイベントの通知内容が不正です。");e.detail.editor.appendChild(this.caret)}))},this.root=e,this.readonlyFlag=t,this.styleClass={caret:{element:"tom-editor__caret",modifier:{animation:"tom-editor__caret--animation",focus:"tom-editor__caret--focus"}}},this.caret=this.createCaret(),this.defineEventListeners()}}},384:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Editor=void 0,t.Editor=class{constructor(e,t){this.createEditor=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.editor.element),e},this.createEditorWrapper=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.editorWrapper.element),e},this.defineEventListeners=()=>{},this.root=e,this.styleClass={editor:{element:"tom-editor__editor"},editorWrapper:{element:"tom-editor__editor-wrapper"}},this.editorWrapper=this.createEditorWrapper(),t.appendChild(this.editorWrapper),this.editor=this.createEditor(),this.editorWrapper.appendChild(this.editor),this.defineEventListeners()}}},323:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalScrollbarArea=void 0,t.HorizontalScrollbarArea=class{constructor(e,t){this.createHorizontalScrollbar=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.horizontalScrollbar.element),e},this.createHorizontalScrollbarArea=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.horizontalScrollbarArea.element),e},this.defineEventListeners=()=>{this.root.addEventListener("Main-initialize",(e=>{if(void 0===e.detail)throw new Error("LineNumberArea.prototype.defineEventListeners: Main-initializeイベントの通知内容が不正です。");e.detail.editor.appendChild(this.horizontalScrollbarArea)}))},this.root=e,this.readonlyFlag=t,this.styleClass={horizontalScrollbar:{element:"tom-editor__horizontal-scrollbar-area__horizontal-scrollbar",modifier:{valid:"tom-editor__horizontal-scrollbar-area__horizontal-scrollbar--valid"}},horizontalScrollbarArea:{element:"tom-editor__horizontal-scrollbar-area"}},this.horizontalScrollbarArea=this.createHorizontalScrollbarArea(),this.horizontalScrollbar=this.createHorizontalScrollbar(),this.horizontalScrollbarArea.appendChild(this.horizontalScrollbar),this.defineEventListeners()}}},388:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LineNumberArea=void 0,t.LineNumberArea=class{constructor(e,t){this.appendLineNumber=()=>{const e=this.createLineNumber();this.lineNumberList.push(e),this.lineNumberArea.appendChild(e)},this.createLineNumber=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.lineNumber.element),this.lineNumberArea.classList.contains(this.styleClass.lineNumberArea.modifier.readOnly)&&e.classList.add(this.styleClass.lineNumber.modifier.readOnly),e.textContent=`${this.lineNumberList.length+1}`,e},this.createLineNumberArea=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.lineNumberArea.element),this.readonlyFlag&&e.classList.add(this.styleClass.lineNumberArea.modifier.readOnly),e},this.defineEventListeners=()=>{this.root.addEventListener("Main-initialize",(e=>{if(void 0===e.detail)throw new Error("LineNumberArea.prototype.defineEventListeners: Main-initializeイベントの通知内容が不正です。");e.detail.editor.appendChild(this.lineNumberArea)}))},this.root=e,this.readonlyFlag=t,this.styleClass={lineNumber:{element:"tom-editor__line-number-area__line-number",modifier:{focus:"tom-editor__line-number-area__line-number--focus",readOnly:"tom-editor__line-number-area__line-number--read-only"}},lineNumberArea:{element:"tom-editor__line-number-area",modifier:{readOnly:"tom-editor__line-number-area--read-only"}}},this.lineNumberArea=this.createLineNumberArea(),this.lineNumberList=[],this.appendLineNumber(),this.defineEventListeners()}}},462:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextArea=void 0,t.TextArea=class{constructor(e,t){this.createCharacter=e=>{const t=document.createElement("span");if(t.classList.add(this.styleClass.character.element),"eol"===e)return t.classList.add(this.styleClass.character.modifier.eol),t.textContent=" ",t;if(1===e.length)return t.textContent=e,t;throw new Error(`TextArea.prototype.createCharacter: 不正な引数です（${e}）。`)},this.createTextArea=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.textArea.element),this.readonlyFlag&&(e.style.cursor="default"),e},this.createTextLine=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.textLine.element),e},this.createTextLinesWrapper=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.textLinesWrapper.element),e},this.defineEventListeners=()=>{this.root.addEventListener("Main-initialize",(e=>{if(void 0===e.detail)throw new Error("LineNumberArea.prototype.defineEventListeners: Main-initializeイベントの通知内容が不正です。");e.detail.editor.appendChild(this.textArea)}))},this.root=e,this.readonlyFlag=t,this.styleClass={character:{element:"tom-editor__text-area__character",modifier:{eol:"tom-editor__text-area__character--eol"}},textArea:{element:"tom-editor__text-area"},textLine:{element:"tom-editor__text-area__text-line"},textLinesWrapper:{element:"tom-editor__text-area__text-lines-wrapper"}},this.textArea=this.createTextArea(),this.textLinesWrapper=this.createTextLinesWrapper(),this.textArea.appendChild(this.textLinesWrapper);const r=this.createTextLine();this.textLinesWrapper.appendChild(r);const i=this.createCharacter("eol");r.appendChild(i),this.contents=[{characterList:[i],textLine:r}],this.defineEventListeners()}}},960:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Underline=void 0,t.Underline=class{constructor(e,t){this.createUnderline=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.underline.element),e},this.defineEventListeners=()=>{this.root.addEventListener("Main-initialize",(e=>{if(void 0===e.detail)throw new Error("LineNumberArea.prototype.defineEventListeners: Main-initializeイベントの通知内容が不正です。");e.detail.editor.appendChild(this.underline)}))},this.root=e,this.readonlyFlag=t,this.styleClass={underline:{element:"tom-editor__underline",modifier:{valid:"tom-editor__underline--valid"}}},this.underline=this.createUnderline(),this.defineEventListeners()}}},835:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalScrollbarArea=void 0,t.VerticalScrollbarArea=class{constructor(e,t){this.createVerticalScrollbar=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.verticalScrollbar.element),e},this.createVerticalScrollbarArea=()=>{const e=document.createElement("div");return e.classList.add(this.styleClass.verticalScrollbarArea.element),e},this.defineEventListeners=()=>{this.root.addEventListener("Main-initialize",(e=>{if(void 0===e.detail)throw new Error("LineNumberArea.prototype.defineEventListeners: Main-initializeイベントの通知内容が不正です。");e.detail.editor.appendChild(this.verticalScrollbarArea)}))},this.root=e,this.readonlyFlag=t,this.styleClass={verticalScrollbar:{element:"tom-editor__vertical-scrollbar-area__vertical-scrollbar",modifier:{valid:"tom-editor__vertical-scrollbar-area__vertical-scrollbar--valid"}},verticalScrollbarArea:{element:"tom-editor__vertical-scrollbar-area"}},this.verticalScrollbarArea=this.createVerticalScrollbarArea(),this.verticalScrollbar=this.createVerticalScrollbar(),this.verticalScrollbarArea.appendChild(this.verticalScrollbar),this.defineEventListeners()}}}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{var e=i;Object.defineProperty(e,"X",{value:!0}),e.r=void 0,r(674);const t=r(881),a=r(384),o=r(323),n=r(388),l=r(462),s=r(835),d=r(960),c=class extends EventTarget{constructor(e,r,...i){if(super(),void 0===e)throw new Error("第1引数が指定されていません。第1引数にはエディター実装対象となるHTML要素を指定してください。");if(!(e instanceof HTMLElement))throw new Error(`第1引数に${typeof e}型の値が指定されています。第1引数にはエディター実装対象となるHTML要素を指定してください。`);if(void 0!==r){if("object"!=typeof r)throw new Error(`第2引数に${typeof r}型の値が指定されています。第2引数にはエディターの挙動を制御するオブジェクトを指定してください。`);for(const e in r){if("readonly"!==e)throw new Error(`第2引数のキー「${e}」は有効なキー名として許可されていません。`);if("boolean"!=typeof r.readonly)throw new Error("第2引数のキー「readonly」には真偽値を指定してください。")}}if(i.length)throw new Error("引数の数が不正です。当コンストラクタは第1引数と第2引数のみ許容します。");let c;e.innerHTML="",c=void 0!==r&&void 0!==r.readonly&&r.readonly;const h=new a.Editor(this,e);new n.LineNumberArea(this,c),new l.TextArea(this,c),new s.VerticalScrollbarArea(this,c),new o.HorizontalScrollbarArea(this,c),new t.Caret(this,c),new d.Underline(this,c),this.dispatchEvent(new CustomEvent("Main-initialize",{detail:{editor:h.editor}}))}};e.r=c})();var a=i.r,o=i.X;export{a as TOMEditor,o as __esModule};